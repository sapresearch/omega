$("#working_list_title").html("<%= @asset.name %>");
$("#working_list_title").removeClass("service");
$("#working_list_title").addClass("asset");
$("#working_list_block").html("<%= escape_javascript(render "leaf_services_ul", :asset_id=>@asset.id) %>");

/* clear previous class names */
$(".connectedSortable").removeClass("connectedSortable")
$(".list_fieldset").droppable("distroy")

<% @leaf_services.each do |leaf_service| %>
  $("#leaf_services_list_block .leaf_service_<%= leaf_service.id.to_s %>:not(.ui-state-disabled)").hide()
  $("#leaf_services_list_block .leaf_service_<%= leaf_service.id.to_s %>.ui-state-disabled").show()
<% end %>

$(".leaf_services_list").addClass("connectedSortable");

$("#leaf_services_list_fieldset").droppable({
  hoverClass: 'drop_leaf_service_hover',
  accept: '.connectedSortable li'
})

$("#working_list_fieldset").droppable({
  hoverClass: 'drop_leaf_service_hover',
  accept: '.connectedSortable li'
})

$(".tipsy").remove();





/*  code using draggable
$("#leaf_services_list_block li").draggable({
  connectToSortable: "#working_list_block .leaf_services_list",
  helper:"clone",
  revert:"invalid",
  revertDuration:400,
  start: function(event,ui){

  }
});

$("#working_list_block li").draggable({
  connectToSortable: "#leaf_services_list_block .leaf_services_list",
  helper:"clone",
  revert:"invalid",
  revertDuration:400,
  start: function(event,ui){}
});

$("#leaf_services_list_fieldset").droppable({
  hoverClass: 'drop_leaf_service_hover',
  accept: '#working_list_block li',
  greedy: true,
  drop:function(event, ui){

  }
})

$("#working_list_fieldset").droppable({
  hoverClass: 'drop_leaf_service_hover',
  accept: '#leaf_services_list_block li',
  greedy: true,
  drop:function(event, ui){}
})
*/

