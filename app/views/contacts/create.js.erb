    /**
     * insert contact view
     * empty the pane, append contact details
     * append the contact to the contact list
     */
$('#group-member-assign-groups-dialog-message').dialog('destroy').andSelf().remove();
$('#contacts_contact_pane').empty().append('<%= escape_javascript(render(:partial => 'contacts/shared/contact_details')) %>');
            //append the new created contact at the end of list
            // TODO: insert the contact at the right alphabetical position
$('#contacts ul').append('<%= escape_javascript(render('contact_row', :contact_row => @contact)) %>');
               $("#contact_accordion").accordion();

         /*
        $('#contact-assignment').dialog({ autoOpen: false,
            modal: true,
            title: 'Assign Contacts',
            height:400,
            width:600
        });
        $('#assign-trigger').click(function() {

            $('#contact-assignment').dialog('open');
        });
        */
        
var contacts = <%= Contact.all.to_json.html_safe %>;
update_contacts(contacts);


$('#assign-trigger').click(function() {
    $('#group-member-assign-groups-dialog-message').dialog({
        modal: true,
        width:"auto",
        height:"auto",
        buttons: {
            OK: function() {
                $(this).dialog( "close" );
            }
        }
    });
});

