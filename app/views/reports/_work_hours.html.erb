<script type="text/javascript">
  $(function() {
    $( "#tabs" ).tabs();
  });

  var employees = []
  var positions = []
  var jobs = []
  <% @employees.each do |e| %>
    employees.push(<%= raw e.to_json %>)
  <% end %>
  <% @positions.each do |p| %>
    positions.push(<%= raw p.to_json %>)
  <% end %>
  <% @jobs.each do |j| %>
    jobs.push(<%= raw j.to_json %>)
  <% end %>
</script>

<div id="tabs">
  <ul>
    <li><a href="#tabs-1">Work Hours Overview</a></li>
    <li><a href="#tabs-2">By User</a></li>
    <li><a href="#tabs-3">By Position</a></li>
  </ul>
  <div id="tabs-1">
    <p>
      <div id='table_div_1'></div>
    </p>
  </div>
  <div id="tabs-2">
    <p>
      <% options = @employees.map{|e|[e.name, @employees.index(e)]} %>
      <%= select_tag(:select_employees, options_for_select(options), :onchange => "drawPositionsTable()") %>
      <div id='table_div_2'></div>
    </p>
  </div>
  <div id="tabs-3">
    <p>
      <% options = @positions.map{|p|[p.name, @positions.index(p)]} %>
      <%= select_tag(:select_positions, options_for_select(options), :onchange => "drawEmployeesTable()") %>
      <div id='table_div_3'></div>
    </p>
  </div>
</div>

<script type="text/javascript">
  drawOverviewTable();
  drawPositionsTable();
  drawEmployeesTable();
</script>
